(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[130],{3402:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tool",function(){return n(3936)}])},4711:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var o=n(5893),a=n(1664),r=n.n(a),s=n(7294),l=n(1163);function i(){let[e,t]=(0,s.useState)(null),n=(0,s.useRef)(null),a=(0,s.useRef)(null),i=(0,l.useRouter)();return(0,s.useEffect)(()=>{if(e)return window.addEventListener("click",o),()=>window.removeEventListener("click",o);function o(e){!n.current||n.current.contains(e.target)||a.current.contains(e.target)||t(!1)}},[e]),(0,s.useEffect)(()=>{let e=e=>{t(!1)};return i.events.on("routeChangeComplete",e),()=>{i.events.off("routeChangeComplete",e)}},[i.events]),(0,o.jsxs)("div",{className:"md:hidden block relative",children:[(0,o.jsx)("button",{"aria-label":"Mobile menu",ref:a,onClick:()=>t(!e),className:"md:hidden block focus:ring-2 ring-violet-500 my-2",children:e?(0,o.jsx)("svg",{className:"w-6 h-6 text-gray-900 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}):(0,o.jsx)("svg",{className:"w-6 h-6 text-gray-900 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})}),e&&(0,o.jsx)("div",{ref:n,className:"md:hidden block absolute top-9 right-0 h-fit w-44 py-2 bg-white text-gray-900 rounded shadow z-30",children:(0,o.jsxs)("ul",{className:"text-center",children:[(0,o.jsx)("li",{children:(0,o.jsx)(r(),{href:"/tool",className:"block p-3 hover:bg-gray-100",children:"Portrait Tool"})}),(0,o.jsx)("li",{children:(0,o.jsx)(r(),{href:"/how-it-works",className:"block p-3 hover:bg-gray-100",children:"How It Works"})}),(0,o.jsx)("li",{children:(0,o.jsx)(r(),{href:"/",className:"block p-3 hover:bg-gray-100",children:"Blog"})}),(0,o.jsx)("li",{children:(0,o.jsx)("a",{href:"https://github.com/brandonbyr4/comicfun",target:"_blank",rel:"noopener noreferrer",className:"block p-3 hover:bg-gray-100",children:"Github"})})]})})]})}},3936:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return U}});var o=n(5893),a=n(9008),r=n.n(a),s=n(5675),l=n.n(s),i=n(7294),c=n(1664),d=n.n(c),u=n(4711);function m(){let[e,t]=(0,i.useState)(!1);return(0,o.jsxs)("div",{className:"relative flex md:flex-col md:h-auto h-[81px] lg:w-72 md:w-60 md:items-start items-center justify-between md:border-r md:border-b-0 border-b border-gray-300",children:[(0,o.jsxs)("div",{className:"w-full",children:[(0,o.jsx)("div",{className:"md:px-6 px-3 py-3 md:border-b border-gray-300",children:(0,o.jsx)(d(),{href:"/",className:"text-2xl font-semibold text-gray-900 focus:ring-2 ring-violet-500",children:"Camtoon\uD83D\uDCA5"})}),(0,o.jsxs)("div",{className:"md:block hidden text-center",children:[(0,o.jsxs)(d(),{onMouseEnter:()=>{t("menu1")},onMouseLeave:()=>{t(!1)},href:"/tool",className:"px-8 py-5 flex items-center gap-2 text-md text-gray-900 hover:bg-gray-100 hover:text-violet-500",children:[(0,o.jsxs)("svg",{className:"w-6 h-6 ",xmlns:"http://www.w3.org/2000/svg",fill:"menu1"===e?"#ede9fe":"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:[(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})]}),"Portrait Tool"]}),(0,o.jsxs)(d(),{onMouseEnter:()=>{t("menu2")},onMouseLeave:()=>{t(!1)},href:"/how-it-works",className:"px-8 py-5 flex items-center gap-2 text-md text-gray-900 hover:bg-gray-100 hover:text-violet-500",children:[(0,o.jsx)("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"menu2"===e?"#ede9fe":"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"})}),"How Work IT"]}),(0,o.jsxs)(d(),{onMouseEnter:()=>{t("menu3")},onMouseLeave:()=>{t(!1)},href:"/",className:"px-8 py-5 flex items-center gap-2 text-md text-gray-900 hover:bg-gray-100 hover:text-violet-500",children:[(0,o.jsx)("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"menu3"===e?"#ede9fe":"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12.75 19.5v-.75a7.5 7.5 0 00-7.5-7.5H4.5m0-6.75h.75c7.87 0 14.25 6.38 14.25 14.25v.75M6 18.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"})}),"Blog"]})]})]}),(0,o.jsx)("div",{className:"md:hidden block ml-4 mr-3",children:(0,o.jsx)(u.Z,{})})]})}function h(e){return(0,o.jsxs)("div",{className:"md:flex md:flex-row flex-col w-full h-screen",children:[(0,o.jsx)(m,{}),(0,o.jsx)("div",{className:"lg:w-[calc(100%-18rem)] md:w-[calc(100%-15rem)]",children:e.content})]})}var p=function(){for(var e,t,n=0,o="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=function e(t){var n,o,a="";if("string"==typeof t||"number"==typeof t)a+=t;else if("object"==typeof t){if(Array.isArray(t)){var r=t.length;for(n=0;n<r;n++)t[n]&&(o=e(t[n]))&&(a&&(a+=" "),a+=o)}else for(o in t)t[o]&&(a&&(a+=" "),a+=o)}return a}(e))&&(o&&(o+=" "),o+=t);return o};let f=e=>"number"==typeof e&&!isNaN(e),g=e=>"string"==typeof e,v=e=>"function"==typeof e,x=e=>g(e)||v(e)?e:null,y=e=>(0,i.isValidElement)(e)||g(e)||v(e)||f(e);function b(e){let{enter:t,exit:n,appendPosition:o=!1,collapse:a=!0,collapseDuration:r=300}=e;return function(e){let{children:s,position:l,preventExitTransition:c,done:d,nodeRef:u,isIn:m,playToast:h}=e,p=o?`${t}--${l}`:t,f=o?`${n}--${l}`:n,g=(0,i.useRef)(0);return(0,i.useLayoutEffect)(()=>{let e=u.current,t=p.split(" "),n=o=>{o.target===u.current&&(h(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===g.current&&"animationcancel"!==o.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)},[]),(0,i.useEffect)(()=>{let e=u.current,t=()=>{e.removeEventListener("animationend",t),a?function(e,t,n){void 0===n&&(n=300);let{scrollHeight:o,style:a}=e;requestAnimationFrame(()=>{a.minHeight="initial",a.height=o+"px",a.transition=`all ${n}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(t,n)})})}(e,d,r):d()};m||(c?t():(g.current=1,e.className+=` ${f}`,e.addEventListener("animationend",t)))},[m]),i.createElement(i.Fragment,null,s)}}function w(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}let j=new Map,E=[],k=new Set,N=e=>k.forEach(t=>t(e)),T=()=>j.size>0;function C(e,t){var n;if(t)return!(null==(n=j.get(t))||!n.isToastActive(e));let o=!1;return j.forEach(t=>{t.isToastActive(e)&&(o=!0)}),o}function I(e,t){y(e)&&(T()||E.push({content:e,options:t}),j.forEach(n=>{n.buildToast(e,t)}))}function L(e,t){j.forEach(n=>{null!=t&&null!=t&&t.containerId?(null==t?void 0:t.containerId)===n.id&&n.toggle(e,null==t?void 0:t.id):n.toggle(e,null==t?void 0:t.id)})}function _(e){let{delay:t,isRunning:n,closeToast:o,type:a="default",hide:r,className:s,style:l,controlledProgress:c,progress:d,rtl:u,isIn:m,theme:h}=e,f=r||c&&0===d,g={...l,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused"};c&&(g.transform=`scaleX(${d})`);let x=p("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${a}`,{"Toastify__progress-bar--rtl":u}),y=v(s)?s({rtl:u,type:a,defaultClassName:x}):p(x,s);return i.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},i.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${a}`}),i.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:y,style:g,[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{m&&o()}}))}let M=1,D=()=>""+M++;function P(e,t){return I(e,t),t.toastId}function A(e,t){return{...t,type:t&&t.type||e,toastId:t&&(g(t.toastId)||f(t.toastId))?t.toastId:D()}}function B(e){return(t,n)=>P(t,A(e,n))}function $(e,t){return P(e,A("default",t))}$.loading=(e,t)=>P(e,A("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),$.promise=function(e,t,n){let o,{pending:a,error:r,success:s}=t;a&&(o=g(a)?$.loading(a,n):$.loading(a.render,{...n,...a}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},i=(e,t,a)=>{if(null==t)return void $.dismiss(o);let r={type:e,...l,...n,data:a},s=g(t)?{render:t}:t;return o?$.update(o,{...r,...s}):$(s.render,{...r,...s}),a},c=v(e)?e():e;return c.then(e=>i("success",s,e)).catch(e=>i("error",r,e)),c},$.success=B("success"),$.info=B("info"),$.error=B("error"),$.warning=B("warning"),$.warn=$.warning,$.dark=(e,t)=>P(e,A("default",{theme:"dark",...t})),$.dismiss=function(e){!function(e){var t;if(T()){if(null==e||g(t=e)||f(t))j.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let n=j.get(e.containerId);n?n.removeToast(e.id):j.forEach(t=>{t.removeToast(e.id)})}}else E=E.filter(t=>null!=e&&t.options.toastId!==e)}(e)},$.clearWaitingQueue=function(e){void 0===e&&(e={}),j.forEach(t=>{!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()})},$.isActive=C,$.update=function(e,t){void 0===t&&(t={});let n=((e,t)=>{var n;let{containerId:o}=t;return null==(n=j.get(o||1))?void 0:n.toasts.get(e)})(e,t);if(n){let{props:o,content:a}=n,r={delay:100,...o,...t,toastId:t.toastId||e,updateId:D()};r.toastId!==e&&(r.staleId=e);let s=r.render||a;delete r.render,P(s,r)}},$.done=e=>{$.update(e,{progress:1})},$.onChange=function(e){return k.add(e),()=>{k.delete(e)}},$.play=e=>L(!0,e),$.pause=e=>L(!1,e);let O="undefined"!=typeof window?i.useLayoutEffect:i.useEffect,S=e=>{let{theme:t,type:n,isLoading:o,...a}=e;return i.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":`var(--toastify-icon-color-${n})`,...a})},z={info:function(e){return i.createElement(S,{...e},i.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return i.createElement(S,{...e},i.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return i.createElement(S,{...e},i.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return i.createElement(S,{...e},i.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return i.createElement("div",{className:"Toastify__spinner"})}},R=e=>{let{isRunning:t,preventExitTransition:n,toastRef:o,eventHandlers:a,playToast:r}=function(e){var t,n;let[o,a]=(0,i.useState)(!1),[r,s]=(0,i.useState)(!1),l=(0,i.useRef)(null),c=(0,i.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:u,closeToast:m,onClick:h,closeOnClick:p}=e;function f(){a(!0)}function g(){a(!1)}function v(t){let n=l.current;c.canDrag&&n&&(c.didMove=!0,o&&g(),c.delta="x"===e.draggableDirection?t.clientX-c.start:t.clientY-c.start,c.start!==t.clientX&&(c.canCloseOnClick=!1),n.style.transform=`translate3d(${"x"===e.draggableDirection?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`},0)`,n.style.opacity=""+(1-Math.abs(c.delta/c.removalDistance)))}function x(){document.removeEventListener("pointermove",v),document.removeEventListener("pointerup",x);let t=l.current;if(c.canDrag&&c.didMove&&t){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance)return s(!0),e.closeToast(),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}null==(n=j.get((t={id:e.toastId,containerId:e.containerId,fn:a}).containerId||1))||n.setToggle(t.id,t.fn),(0,i.useEffect)(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||g(),window.addEventListener("focus",f),window.addEventListener("blur",g),()=>{window.removeEventListener("focus",f),window.removeEventListener("blur",g)}},[e.pauseOnFocusLoss]);let y={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){c.didMove=!1,document.addEventListener("pointermove",v),document.addEventListener("pointerup",x);let n=l.current;c.canCloseOnClick=!0,c.canDrag=!0,n.style.transition="none","x"===e.draggableDirection?(c.start=t.clientX,c.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(c.start=t.clientY,c.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){let{top:n,bottom:o,left:a,right:r}=l.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=a&&t.clientX<=r&&t.clientY>=n&&t.clientY<=o?g():f()}};return d&&u&&(y.onMouseEnter=g,e.stacked||(y.onMouseLeave=f)),p&&(y.onClick=e=>{h&&h(e),c.canCloseOnClick&&m()}),{playToast:f,pauseToast:g,isRunning:o,preventExitTransition:r,toastRef:l,eventHandlers:y}}(e),{closeButton:s,children:l,autoClose:c,onClick:d,type:u,hideProgressBar:m,closeToast:h,transition:f,position:g,className:x,style:y,bodyClassName:b,bodyStyle:w,progressClassName:E,progressStyle:k,updateId:N,role:T,progress:C,rtl:I,toastId:L,deleteToast:M,isIn:D,isLoading:P,closeOnClick:A,theme:B}=e,$=p("Toastify__toast",`Toastify__toast-theme--${B}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":I},{"Toastify__toast--close-on-click":A}),O=v(x)?x({rtl:I,position:g,type:u,defaultClassName:$}):p($,x),S=function(e){let{theme:t,type:n,isLoading:o,icon:a}=e,r=null,s={theme:t,type:n};return!1===a||(v(a)?r=a({...s,isLoading:o}):(0,i.isValidElement)(a)?r=(0,i.cloneElement)(a,s):o?r=z.spinner():n in z&&(r=z[n](s))),r}(e),R=!!C||!c,H={closeToast:h,type:u,theme:B},F=null;return!1===s||(F=v(s)?s(H):(0,i.isValidElement)(s)?(0,i.cloneElement)(s,H):function(e){let{closeToast:t,theme:n,ariaLabel:o="close"}=e;return i.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:e=>{e.stopPropagation(),t(e)},"aria-label":o},i.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},i.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(H)),i.createElement(f,{isIn:D,done:M,position:g,preventExitTransition:n,nodeRef:o,playToast:r},i.createElement("div",{id:L,onClick:d,"data-in":D,className:O,...a,style:y,ref:o},i.createElement("div",{...D&&{role:T},className:v(b)?b({type:u}):p("Toastify__toast-body",b),style:w},null!=S&&i.createElement("div",{className:p("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!P})},S),i.createElement("div",null,l)),F,i.createElement(_,{...N&&!R?{key:`pb-${N}`}:{},rtl:I,theme:B,delay:c,isRunning:t,isIn:D,closeToast:h,hide:m,type:u,style:k,className:E,controlledProgress:R,progress:C||0})))},H=function(e,t){return void 0===t&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},F=b(H("bounce",!0)),V=(b(H("slide",!0)),b(H("zoom")),b(H("flip")),{position:"top-right",transition:F,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"});function W(e){let t={...V,...e},n=e.stacked,[o,a]=(0,i.useState)(!0),r=(0,i.useRef)(null),{getToastToRender:s,isToastActive:l,count:c}=function(e){let{subscribe:t,getSnapshot:n,setProps:o}=(0,i.useRef)(function(e){let t=e.containerId||1;return{subscribe(n){let o=function(e,t,n){let o=1,a=0,r=[],s=[],l=[],c=t,d=new Map,u=new Set,m=()=>{l=Array.from(d.values()),u.forEach(e=>e())},h=e=>{s=null==e?[]:s.filter(t=>t!==e),m()},p=e=>{let{toastId:t,onOpen:o,updateId:a,children:r}=e.props,l=null==a;e.staleId&&d.delete(e.staleId),d.set(t,e),s=[...s,e.props.toastId].filter(t=>t!==e.staleId),m(),n(w(e,l?"added":"updated")),l&&v(o)&&o((0,i.isValidElement)(r)&&r.props)};return{id:e,props:c,observe:e=>(u.add(e),()=>u.delete(e)),toggle:(e,t)=>{d.forEach(n=>{null!=t&&t!==n.props.toastId||v(n.toggle)&&n.toggle(e)})},removeToast:h,toasts:d,clearQueue:()=>{a-=r.length,r=[]},buildToast:(t,s)=>{var l,u;if((t=>{let{containerId:n,toastId:o,updateId:a}=t,r=d.has(o)&&null==a;return(n?n!==e:1!==e)||r})(s))return;let{toastId:b,updateId:j,data:E,staleId:k,delay:N}=s,T=()=>{h(b)},C=null==j;C&&a++;let I={...c,style:c.toastStyle,key:o++,...Object.fromEntries(Object.entries(s).filter(e=>{let[t,n]=e;return null!=n})),toastId:b,updateId:j,data:E,closeToast:T,isIn:!1,className:x(s.className||c.toastClassName),bodyClassName:x(s.bodyClassName||c.bodyClassName),progressClassName:x(s.progressClassName||c.progressClassName),autoClose:!s.isLoading&&(l=s.autoClose,u=c.autoClose,!1===l||f(l)&&l>0?l:u),deleteToast(){let e=d.get(b),{onClose:t,children:o}=e.props;v(t)&&t((0,i.isValidElement)(o)&&o.props),n(w(e,"removed")),d.delete(b),--a<0&&(a=0),r.length>0?p(r.shift()):m()}};I.closeButton=c.closeButton,!1===s.closeButton||y(s.closeButton)?I.closeButton=s.closeButton:!0===s.closeButton&&(I.closeButton=!y(c.closeButton)||c.closeButton);let L=t;(0,i.isValidElement)(t)&&!g(t.type)?L=(0,i.cloneElement)(t,{closeToast:T,toastProps:I,data:E}):v(t)&&(L=t({closeToast:T,toastProps:I,data:E}));let _={content:L,props:I,staleId:k};c.limit&&c.limit>0&&a>c.limit&&C?r.push(_):f(N)?setTimeout(()=>{p(_)},N):p(_)},setProps(e){c=e},setToggle:(e,t)=>{d.get(e).toggle=t},isToastActive:e=>s.some(t=>t===e),getSnapshot:()=>c.newestOnTop?l.reverse():l}}(t,e,N);j.set(t,o);let a=o.observe(n);return E.forEach(e=>I(e.content,e.options)),E=[],()=>{a(),j.delete(t)}},setProps(e){var n;null==(n=j.get(t))||n.setProps(e)},getSnapshot(){var e;return null==(e=j.get(t))?void 0:e.getSnapshot()}}}(e)).current;o(e);let a=(0,i.useSyncExternalStore)(t,n,n);return{getToastToRender:function(e){if(!a)return[];let t=new Map;return a.forEach(e=>{let{position:n}=e.props;t.has(n)||t.set(n,[]),t.get(n).push(e)}),Array.from(t,t=>e(t[0],t[1]))},isToastActive:C,count:null==a?void 0:a.length}}(t),{className:d,style:u,rtl:m,containerId:h}=t;function b(){n&&(a(!0),$.play())}return O(()=>{if(n){var e;let a=r.current.querySelectorAll('[data-in="true"]'),s=null==(e=t.position)?void 0:e.includes("top"),l=0,i=0;Array.from(a).reverse().forEach((e,t)=>{let n=e;n.classList.add("Toastify__toast--stacked"),t>0&&(n.dataset.collapsed=`${o}`),n.dataset.pos||(n.dataset.pos=s?"top":"bot");let a=l*(o?.2:1)+(o?0:12*t);n.style.setProperty("--y",`${s?a:-1*a}px`),n.style.setProperty("--g","12"),n.style.setProperty("--s",""+(1-(o?i:0))),l+=n.offsetHeight,i+=.025})}},[o,c,n]),i.createElement("div",{ref:r,className:"Toastify",id:h,onMouseEnter:()=>{n&&(a(!1),$.pause())},onMouseLeave:b},s((e,t)=>{let o=t.length?{...u}:{...u,pointerEvents:"none"};return i.createElement("div",{className:function(e){let t=p("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":m});return v(d)?d({position:e,rtl:m,defaultClassName:t}):p(t,x(d))}(e),style:o,key:`container-${e}`},t.map(e=>{let{content:t,props:o}=e;return i.createElement(R,{...o,stacked:n,collapseAll:b,isIn:l(o.toastId,o.containerId),style:o.style,key:`toast-${o.key}`},t)}))}))}function U(){let[e,t]=(0,i.useState)(null),[n,a]=(0,i.useState)(!1),[s,c]=(0,i.useState)(null),[d,u]=(0,i.useState)(null),m=(0,i.useRef)(null),p=async()=>{try{let e=await navigator.mediaDevices.getUserMedia({video:!0});m.current.srcObject=e}catch(t){console.log(t)}};(0,i.useEffect)(()=>{p()},[n]);let f=e=>{let t=e.split(",")[0].indexOf("base64")>=0&&e.split(",")[1],n=e.split(",")[0].split(":")[1].split(";")[0],o=t.length,a=new Uint8Array(o),r="";for(let s=0;s<o;s++)a[s]=t.charCodeAt(s);r=n.includes("png")?".png":".jpg";let l=new File([a],"upload".concat(r),{type:n});return l},g=(e,t)=>{var n=parseInt(t,10)||1,o=e.data,a=256/(n=Math.max(2,Math.min(256,n))),r=255/(n-1),s=e.width,l=e.height,i=4*s,c=l;do{var d=(c-1)*i,u=s;do{var m=d+(u-1)*4,h=r*(o[m]/a>>0),p=r*(o[m+1]/a>>0),f=r*(o[m+2]/a>>0);h>255&&(h=255),p>255&&(p=255),f>255&&(f=255),o[m]=h,o[m+1]=p,o[m+2]=f}while(--u)}while(--c);return e},v=(e,t,n)=>{let o=e.width,a=e.height,r=e.getContext("2d").getImageData(0,0,o,a).data,s=document.createElement("canvas"),l=s.getContext("2d"),i=[];s.width=o,s.height=a;for(var c=l.createImageData(o,a),d=c.data,u=[],m=[],h=0;h<a;h++){u[h]=[],m[h]=[];for(var p=0;p<o;p++){var f=(h*o+p)*4,g=r[f],v=r[f+1],x=r[f+2],y=(g+v+x)/3;u[h][p]=Math.round(y*n/255),m[h][p]={r:g,g:v,b:x}}}for(h=0;h<a;h++)for(p=0;p<o;p++){i=[];for(var b=-t;b<=t;b++)for(var w=-t;w<=t;w++)if(h+b>0&&h+b<a&&p+w>0&&p+w<o){var j=u[h+b][p+w];i[j]?(i[j].val++,i[j].r+=m[h+b][p+w].r,i[j].g+=m[h+b][p+w].g,i[j].b+=m[h+b][p+w].b):i[j]={val:1,r:m[h+b][p+w].r,g:m[h+b][p+w].g,b:m[h+b][p+w].b}}i.sort(function(e,t){return t.val-e.val});var E=i[0].val,k=(h*o+p)*4;d[k]=~~(i[0].r/E),d[k+1]=~~(i[0].g/E),d[k+2]=~~(i[0].b/E),d[k+3]=255}e.getContext("2d").putImageData(c,0,0)},x=()=>{let e=document.createElement("canvas");e.setAttribute("id","export-canvas"),e.width=m.current.clientWidth,e.height=m.current.clientHeight,e.getContext("2d").drawImage(m.current,0,0,e.width,e.height);let t=e.getContext("2d").getImageData(0,0,e.width,e.height);e.getContext("2d").putImageData(g(t,10),0,0),v(e,4,25);let n=e.toDataURL();u(n),c(f(n))},y=e=>{if(e.target.files&&e.target.files[0]){let t=e.target.files[0],n=document.createElement("canvas"),o=document.createElement("img");n.setAttribute("id","export-canvas"),o.src=URL.createObjectURL(t),o.onload=function(){n.width=o.width,n.height=o.height,n.getContext("2d").drawImage(o,0,0,n.width,n.height);let e=n.getContext("2d").getImageData(0,0,n.width,n.height);n.getContext("2d").putImageData(g(e,10),0,0),v(n,4,25);let t=n.toDataURL();u(t),c(f(t))}}},b=e=>{fetch("/api/contact-list",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})})},w=()=>$.warn("Start by taking or uploading a photo."),j=t=>{if(t.preventDefault(),s){b(e);let n=document.createElement("a");n.download="cartoonified",n.href=d,n.click()}else w()},E=()=>{c(null),u(null),p()};return(0,o.jsxs)("div",{children:[(0,o.jsx)(r(),{children:(0,o.jsx)("title",{children:"Camtoon"})}),(0,o.jsx)("main",{children:(0,o.jsx)(h,{content:(0,o.jsxs)("div",{className:"md:flex md:h-full",children:[s?(0,o.jsx)("div",{className:"flex flex-col xl:w-[calc(100%-24rem)] lg:w-[calc(100%-20rem)] md:w-[calc(100%-18rem)] w-full",children:(0,o.jsxs)("div",{className:"p-10 h-full",children:[(0,o.jsx)("h4",{className:"text-3xl font-semibold text-gray-900 mb-4",children:"Image uploaded"}),(0,o.jsxs)("button",{"aria-label":"choose another photo",type:"button",onClick:()=>E(),className:"flex items-center gap-2 text-blue-500 underline mb-4",children:[(0,o.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})}),"back"]}),(0,o.jsx)("div",{className:"max-w-xl",children:(0,o.jsx)(l(),{src:d,width:1e3,height:1e3,alt:"Image preview"})})]})}):(0,o.jsx)(o.Fragment,{children:n?(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:"flex flex-col xl:w-[calc(100%-24rem)] lg:w-[calc(100%-20rem)] md:w-[calc(100%-18rem)] w-full overflow-hidden",children:[(0,o.jsxs)("div",{className:"flex h-full w-full",children:[(0,o.jsx)("button",{"aria-label":"back",onClick:()=>a(!1),className:"px-4 py-4 bg-white text-gray-900 hover:bg-gray-100 border-r border-gray-300 transition",children:"Back"}),(0,o.jsx)("button",{"aria-label":"back",onClick:()=>x(),className:"w-full px-4 py-4 text-gray-900 hover:bg-gray-100 transition",children:"Take Photo"})]}),(0,o.jsx)("div",{className:"h-[fit] pb-2 bg-violet-500",children:(0,o.jsx)("video",{id:"video",ref:m,className:"w-full h-full",autoPlay:!0})})]})}):(0,o.jsxs)("div",{className:"flex flex-col xl:w-[calc(100%-24rem)] lg:w-[calc(100%-20rem)] md:w-[calc(100%-18rem)] w-full",children:[(0,o.jsx)("p",{className:"py-3 px-8 bg-violet-500 text-sm text-white",children:"After selecting a photo, please allow up to 3-5 seconds for the filters to process."}),(0,o.jsx)("label",{htmlFor:"take-photo",className:"flex justify-center items-center px-3 md:h-80 h-52 border-b border-gray-300 outline-gray-900 -outline-offset-2 hover:bg-gray-100 hover:outline-dotted cursor-pointer transition",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsxs)("h1",{className:"md:text-3xl text-2xl font-semibold text-gray-900 mb-4",children:[(0,o.jsxs)("svg",{className:"inline-block w-6 h-6 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:[(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})]}),"Take a photo"]}),(0,o.jsx)("p",{className:"text-gray-500",children:"Use your device camera to take a photo"}),(0,o.jsx)("button",{"aria-label":"take a photo",id:"take-photo",type:"button",onClick:()=>a(!0),className:"hidden",children:"selfie"})]})}),(0,o.jsx)("label",{htmlFor:"upload-photo",className:"flex justify-center items-center md:h-full h-72 px-3 outline-gray-900 -outline-offset-2 hover:bg-gray-100 hover:outline-dotted cursor-pointer transition",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("h2",{className:"md:text-3xl text-2xl font-semibold text-gray-900 mb-4",children:"Or upload an image"}),(0,o.jsx)("p",{className:"text-gray-500",children:"Choose a photo from your device library"}),(0,o.jsx)("input",{id:"upload-photo",type:"file",accept:"image/png, image/jpeg",onChange:y,className:"hidden"})]})})]})}),(0,o.jsx)("div",{className:"relative xl:w-96 lg:w-80 md:w-72 w-full h-64 bg-gray-900",children:(0,o.jsxs)("form",{onSubmit:e=>j(e),className:"flex flex-col justify-between md:max-h-96 h-full md:py-8 py-14 px-8 md:space-y-6 space-y-16",children:[(0,o.jsx)("h3",{className:"text-2xl font-semibold text-white",children:"Export"}),(0,o.jsx)("div",{children:(0,o.jsxs)("button",{"aria-label":"Download Portrait image",type:"submit",className:"w-full p-3 bg-violet-500 hover:bg-violet-400 text-white text-center rounded transition",children:["Download Camtoon Image",(0,o.jsx)(W,{})]})})]})})]})})})]})}n(4213)},4213:function(){}},function(e){e.O(0,[675,774,888,179],function(){return e(e.s=3402)}),_N_E=e.O()}]);